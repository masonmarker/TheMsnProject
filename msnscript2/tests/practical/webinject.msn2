# Injects JavaScript into a web page.
#
# author : Mason Marker
# date : 5/30/2023

# declares and opens Google Chrome
@ chrome = app('C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe')
chrome.start()

# URL to navigate to
@ url = 'www.calculator.com'
chrome.write(url)
chrome.enter()

# waits for the Copyright footer to load,
# signaling that the rest of the page has loaded
chrome.wait_for_text('Copyright')

# presses keys at the same time to inspect element
chrome.inspect()

# waits for the console tab item to appear
wait(@ console_button = first(chrome.find_tabitems('Console')))

# clears the console
chrome.press('VK_CONTROL', 'l')

# clicks the console
console_button.click()

# writes into the console some JavaScript
chrome.send_keys(script(
    console.log('Hello, World!');
))

sleep(4)
chrome.stop()