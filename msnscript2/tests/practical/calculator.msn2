# Tests basic actions within the automation capabilities
# of the language.
#
# author : Mason Marker
# date : 5/23/2023

# clear the console
console('cls')

# get the Google Chrome application
@ chrome = app('C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe')

# start chrome
chrome.start()

# search google for apples stock price
chrome.write('calculator')

# press the enter key
chrome.enter()

# wait for text on the screen containing 'calculator.com'
chrome.wait_for_text('calculator.net')

# get the first Google result link
@ first_google_link = first(
    chrome.find_links('Calculator.net: Free Online')
)

# click the link
first_google_link.click()

# wait for the page to load from unique text on the bottom of the page
chrome.wait_for_text("Calculator.net's sole focus")

# ------------------- PAGE LOADED -------------------

# TYPE AN EQUATION
# get the # 5 button
@ five_button = first(chrome.find_all_children_exact('5'))
@ plus_button = first(chrome.find_all_children_exact('+'))
@ equals_button = first(chrome.find_all_children_exact('='))
@ eight_button = five_button.element_above(20)
@ two_button = five_button.element_below(20)
@ four_button = five_button.element_left(45)
@ six_button = five_button.element_right(45)

# get the text box directly above the 'Back' button
@ back_button = first(chrome.find_all_children_exact('Back'))
# get the text box 10 pixels above the back button

two_button.click()
eight_button.click()
plus_button.click()
four_button.click()
five_button.click()
six_button.click()

# solve the equation
equals_button.click()

@ result_text_box = back_button.element_above(30,)
print('Calculator says', int(result_text_box.text()))

# stops chrome
chrome.stop()